<section class="content-header m-b-40">
    <h1>
        Workshop Details (Id-- ''{{user.userId}}'')

    </h1>
</section>
<section class="content" ng-init="getWorkshopDetails()">
        
    <div class="row">
        <div class="col-sm-10 col-md-offset-1">
            <form class="form-horizontal" name="userUpdateForm">
                <div class="box box-success">
                    <div class="box-header with-border">
                        <h3 class="box-title">Update Your Profile Here</h3>
                        <button type="button"  class="btn btn-primary pull-right" ui-sref="workshop-verification({id:user.userId})">
                                <i class="fa fa-plus"></i> Verify Now
                              </button>
                    </div>
                    <div class="box-body">
                        <div class="row">
                            <div class="col-xs-6">
                                <div class="form-group has-feedback" ng-class="{'has-error':(userUpdateForm.fname.$touched && userUpdateForm.fname.$invalid) ||(userUpdateForm.fname.$error.pattern && !userUpdateForm.fname.$pristine)}"> 
                                    <div class="col-sm-12">
                                            <label class="control-label">First Name *</label>
                                        <input type="text" name="fname" ng-model="user.firstName" class="form-control"
                                            placeholder="First Name" required ng-pattern="/^[a-zA-Z ]*$/">
                                        <span class="help-block" ng-show="userUpdateForm.fname.$error.required && userUpdateForm.fname.$touched">First
                                            Name is required</span>
                                        <span class="help-block" ng-show="userUpdateForm.fname.$error.pattern && !userUpdateForm.fname.$pristine">Please
                                            Enter Valid First Name(Only Alphabets Allowed)</span>
                                    </div>
                                </div>
                                <div class="form-group has-feedback" ng-class="{'has-error':userUpdateForm.mname.$error.pattern && !userUpdateForm.mname.$pristine}">
                                    <div class="col-sm-12">
                                            <label class="control-label">Middle Name:</label>
                                        <input type="text" name="mname" ng-model="user.middleName" class="form-control"
                                            placeholder="Middle Name" ng-pattern="/^[a-zA-Z ]*$/">
                                        <!-- <span class="help-block" ng-show="userUpdateForm.mname.$error.required && userUpdateForm.mname.$touched">Middle Name is required</span> -->
                                        <span class="help-block" ng-show="userUpdateForm.mname.$error.pattern && !userUpdateForm.mname.$pristine">Please
                                            Enter Valid Middle Name(Only Alphabets Allowed)</span>
                                    </div>
                                </div>
                                <div class="form-group has-feedback" ng-class="{'has-error':(userUpdateForm.lname.$touched && userUpdateForm.lname.$invalid) || (userUpdateForm.lname.$error.pattern && !userUpdateForm.lname.$pristine)}">
                                    <div class="col-sm-12">
                                            <label class="control-label">Last Name *</label>
                                        <input type="text" name="lname" ng-model="user.lastName" class="form-control"
                                            placeholder="Name" required ng-pattern="/^[a-zA-Z ]*$/">
                                        <span class="help-block" ng-show="userUpdateForm.lname.$error.required && userUpdateForm.lname.$touched">Last
                                            Name is required</span>
                                        <span class="help-block" ng-show="userUpdateForm.lname.$error.pattern && !userUpdateForm.lname.$pristine">Please
                                            Enter Valid Last Name(Only Alphabets Allowed)</span>
                                    </div>
                                </div>

                                <div class="form-group" ng-class="{'has-error':(userUpdateForm.user_email.$touched && userUpdateForm.user_email.$invalid) || (userUpdateForm.user_email.$error.pattern && !userUpdateForm.user_email.$pristine)}">
                                    <div class="col-sm-12">
                                            <label class="control-label">Email *</label>
                                        <input type="email" name="user_email" ng-model="user.email" class="form-control"
                                            placeholder=" Email " required ng-pattern="/\S+@\S+\.\S+/">
                                        <span class="help-block" ng-show="userUpdateForm.user_email.$error.required && userUpdateForm.user_email.$touched">Email
                                            is required</span>
                                        <span class="help-block" ng-show="userUpdateForm.user_email.$error.pattern && !userUpdateForm.user_email.$pristine">Please
                                            Enter Valid Email</span>
                                    </div>
                                </div>
                                <div class="form-group" ng-class="{'has-error':userUpdateForm.gender.$error.required && userUpdateForm.gender.$touched }">
                                    <div class="col-sm-12">
                                            <label for="gender" class="control-label">Gender:</label>
                                        <select class="form-control" name="gender" ng-model="user.gender">
                                            <option value=""><i class="fa fa-sort-desc">Gender</i></option>
                                            <option value="M">Male</option>
                                            <option value="F">Female</option>
                                            <option value="O">Others</option>
                                        </select>
                                        <span class="help-block" ng-show="userUpdateForm.gender.$error.required && userUpdateForm.gender.$touched">Please
                                            select gender</span>
                                    </div>
                                </div>
                                <div class="form-group" ng-class="{'has-error':(userUpdateForm.wage.$touched && userUpdateForm.wage.$invalid)}">
                                    <div class="col-sm-12">
                                            <label class="control-label">How old the workshop is(In months)*</label>
                                        <input type="number" name="wage" ng-model="user.wAge" class="form-control"
                                            placeholder="How old the workshop is" required >
                                        <span class="help-block" ng-show="userUpdateForm.wage.$error.required && userUpdateForm.wage.$touched">Workshop age is required</span>
                                        
                                    </div>
                                </div>
                                
                                <div class="form-group" ng-class="{'has-error':(userUpdateForm.wage.$touched && userUpdateForm.wage.$invalid)}">
                                    <div class="col-sm-12">
                                            <label class="control-label">Created By*</label>
                                        <input type="text" name="" ng-model="user.wsCreatedBy" readonly class="form-control"
                                            placeholder="Created by"  >
                                        <span class="help-block" ng-show="userUpdateForm.wage.$error.required && userUpdateForm.wage.$touched">Workshop age is required</span>
                                        
                                    </div>
                                </div>
                                <div class="form-group" ng-class="{'has-error':userUpdateForm.status.$error.required && userUpdateForm.status.$touched }">
                                        <div class="col-sm-12">
                                                <label for="status" class="control-label">Onboarding Status:</label>
                                                <input type="text" name="" ng-model="user.wsStatus" readonly class="form-control"
                                                placeholder="Status"  >
                                            <!-- <select class="form-control" readonly name="status" ng-model="user.wsStatus" required>
                                                <option value=""><i class="fa fa-sort-desc">Status</i></option>
                                                <option value="pending">Pending</option>
                                                <option value="onhold">On-hold</option>
                                                <option value="completed">Completed</option>
                                            </select>
                                            <span class="help-block" ng-show="userUpdateForm.status.$error.required && userUpdateForm.status.$touched">Please
                                                select Status</span> -->
                                        </div>
                                    </div>
                                
                                
                            </div>
                            
                            
                            <div class="col-xs-6">
                                    <div class="form-group" ng-class="{'has-error':(userUpdateForm.wMRevenue.$touched && userUpdateForm.wMRevenue.$invalid)}">
                                            <div class="col-xs-12">
                                                    <label class="control-label">Workshop Name</label>
                                                <input type="text" name="wName" ng-model="user.wName" class="form-control"
                                                    placeholder="Workshop Name" required>
                                                <span class="help-block" ng-show="userUpdateForm.wMRevenue.$error.required && userUpdateForm.wMRevenue.$touched">Workshop Name is required</span>
                                                
                                            </div>
                                        </div>
                                <div class="form-group has-feedback" ng-controller="DatePickerCtrl">
                                    <div class="col-sm-12">
                                            <label for="lname" class="control-label">DOB </label>
                                        <input type="text" class="form-control" name="dob" placeholder="01 Jan, 2017"
                                            ng-model="user.dob" datepicker-popup="yyyy-MM-dd" datepicker-options="dateOptions"
                                            is-open="opened" max-date="dt" date-disabled="disabled(date, mode)"
                                            ng-click="open1($event)" close-text="Close" />
                                        <!-- <span class="help-block" ng-show="userUpdateForm.dob.$error.required && userUpdateForm.dob.$touched">DOB is required</span> -->
                                    </div>
                                </div>
                                <div class="form-group has-feedback" ng-class="{'has-error':userUpdateForm.mobile.$touched && userUpdateForm.mobile.$invalid}">
                                    <div class="col-sm-12">
                                            <label for="pass" class="control-label">Mobile *</label>
                                        <input type="text" class="form-control" name="mobile" ui-mask="999-999-9999"
                                            placeholder="xxx-xxx-xxxx" ng-model="user.contactNbr" required>
                                        <!-- <input type="text" class="form-control" name="mobile" ng-model="user.mobile" placeholder="Mobile" required ng-pattern="/^[0-9]{10,10}$/"> -->
                                        <span class="help-block" ng-show="userUpdateForm.mobile.$error.required && userUpdateForm.mobile.$touched">Mobile
                                            is required</span>
                                    </div>
                                </div>
                                <div class="form-group has-feedback" ng-class="{'has-error':userUpdateForm.telephone.$touched && userUpdateForm.telephone.$invalid}">
                                    <div class="col-sm-12">
                                            <label for="pass" class="control-label">Telephone:</label>
                                        <!-- <input type="text" class="form-control" name="telephone" ng-model="user.telephone" placeholder="Telephone(optional)" ng-pattern="/^[0-9]{10,10}$/"> -->
                                        <input type="text" class="form-control" name="telephone" ui-mask="999-999-9999"
                                            placeholder="xxx-xxx-xxxx" ng-model="user.alternateContactNbr">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="col-sm-12">
                                            <label for="gender" class="control-label">Marital Status:</label>
                                        <select class="form-control" name="marital_status" ng-model="user.maritalStatus">
                                            <option value=""><i class="fa fa-sort-desc">MARITAL STATUS</i></option>
                                            <option value="1">Married</option>
                                            <option value="0">Unmarried</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-group" ng-if="user.maritalStatus =='1'" ng-controller="DatePickerCtrl">
                                    <div class="col-sm-12">
                                            <label class="control-label">Anniversary date</label>
                                        <input type="text" class="form-control" name="anniversary" placeholder="01 Jan, 2017"
                                            ng-model="user.anniversaryDate" datepicker-popup="yyyy-MM-dd"
                                            datepicker-options="dateOptions" is-open="opened" max-date="maxDate2"
                                            date-disabled="disabled(date, mode)" ng-click="open1($event)" close-text="Close" />
                                        <!-- <span class="help-block" ng-show="userUpdateForm.dob.$error.required && userUpdateForm.dob.$touched">DOB is required</span> -->
                                    </div>
                                </div>
                                <div class="form-group" ng-class="{'has-error':(userUpdateForm.avgCars.$touched && userUpdateForm.avgCars.$invalid)}">
                                    <div class="col-sm-12">
                                            <label class="control-label">Average cars reporting daily</label>
                                        <input type="number" name="avgCars" ng-model="user.wAvgCarsRptDly" class="form-control"
                                            placeholder="Average cars reporting daily" >
                                        <!-- <span class="help-block" ng-show="userUpdateForm.avgCars.$error.required && userUpdateForm.wage.$touched">Workshop age is required</span> -->
                                        
                                    </div>
                                </div>
                                <div class="form-group" ng-class="{'has-error':(userUpdateForm.wMRevenue.$touched && userUpdateForm.wMRevenue.$invalid)}">
                                    <div class="col-xs-12">
                                            <label class="control-label">Workshop Monthly Revenue</label>
                                        <input type="number" name="wMRevenue" ng-model="user.wMRevenue" class="form-control"
                                            placeholder="Workshop monthly revenue" required>
                                        <span class="help-block" ng-show="userUpdateForm.wMRevenue.$error.required && userUpdateForm.wMRevenue.$touched">Workshop monthly revenue is required</span>
                                        
                                    </div>
                                </div>
                                <div class="form-group has-feedback" ng-controller="DatePickerCtrl">
                                        <div class="col-sm-12">
                                                <label for="lname" class="control-label">Appointment Date</label>
                                            <input type="text" class="form-control" name="appointmentdate" placeholder="01 Jan, 2017"
                                                ng-model="user.appointmentDate" datepicker-popup="yyyy-MM-dd" datepicker-options="dateOptions"
                                                is-open="opened" max-date="dt" date-disabled="disabled(date, mode)"
                                                ng-click="open1($event)" close-text="Close" />
                                            <!-- <span class="help-block" ng-show="userUpdateForm.dob.$error.required && userUpdateForm.dob.$touched">DOB is required</span> -->
                                        </div>
                                    </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="box box-success " ng-repeat="address in user.address">
                    <div class="box-header with-border">
                        <h3 class="box-title">Adress: {{$index+1}}</h3>
                    </div>
                    <div class="box-body">
                        <div class="row">
                            <div class="col-xs-12 col-sm-6 col-md-3" ng-class="{'has-error':userUpdateForm.houseNo.$touched && userUpdateForm.houseNo.$invalid}">
                                <input type="text" class="form-control" placeholder="House No " name="houseNo" ng-model="address.houseNbr" >
                                <span class="help-block" ng-show="userUpdateForm.houseNo.$error.required && userUpdateForm.houseNo.$touched"> cannot be empty</span>
                            </div>
                            <div class="col-xs-12 col-sm-6 col-md-3" ng-class="{'has-error':userUpdateForm.locality.$error.pattern && !userUpdateForm.locality.$pristine}">
                                <input type="text" class="form-control" placeholder="Locality/Street " name="locality" ng-model="address.locality" ng-pattern="/^[a-zA-Z ]*$/" >
                                <span class="help-block" ng-show="userUpdateForm.locality.$error.required && userUpdateForm.locality.$touched"> cannot be empty</span>
                                <span class="help-block" ng-show="userUpdateForm.locality.$error.pattern && !userUpdateForm.locality.$pristine">Please Enter a Valid Locality(Only Alphabets Allowed)</span>
                            </div>
                            <div class="col-xs-12 col-sm-6 col-md-3" ng-class="{'has-error':userUpdateForm.city.$error.pattern && !userUpdateForm.city.$pristine}">
                                <input type="text" class="form-control" placeholder="City" name="city" ng-model="address.city" ng-pattern="/^[a-zA-Z ]*$/" >
                                <span class="help-block" ng-show="userUpdateForm.city.$error.required && userUpdateForm.city.$touched"> cannot be empty</span>
                                <span class="help-block" ng-show="userUpdateForm.city.$error.pattern && !userUpdateForm.city.$pristine">Please Enter a Valid City(Only Alphabets Allowed)</span>
                            </div>
                            <div class="col-xs-12 col-sm-6 col-md-3" ng-class="{'has-error':userUpdateForm.state.$touched && userUpdateForm.state.$invalid}" ng-init="getAllStates(address)">
                                <select class="form-control" name="state" ng-model="address.stateObj" ng-options="state as state.stateCd for state in stateList"  >
                                    <!-- <option value="" ng-selected><i class="fa fa-sort-desc">State</i></option>
                                    <option ng-value="states.stateCd" ng-repeat="states in stateList" >{{states.stateCd}}</option> -->
                                </select>

                                <span class="help-block" ng-show="userUpdateForm.state.$error.required && userUpdateForm.state.$touched"> cannot be empty</span>
                            </div>
                           
                        </div>
                        <div class="row">
                            <div class="col-xs-12 col-sm-6 col-md-3" ng-class="{'has-error':userUpdateForm.district.$touched && userUpdateForm.district.$invalid}">
                                <select class="form-control" name="district" ng-model="address.district"  ng-options="district as district for district in address.stateObj.districts" >
                                    <!-- <option value="" ng-selected><i class="fa fa-sort-desc">District</i></option>
                                    <option ng-value="states.stateCd" ng-repeat="districts in districtList" >{{districts}}</option> -->
                                </select>
                                <span class="help-block" ng-show="userUpdateForm.district.$error.required && userUpdateForm.district.$touched"> cannot be empty</span>
                            </div>
                            <div class="col-xs-12 col-sm-6 col-md-3" ng-class="{'has-error':userUpdateForm.country.$touched && userUpdateForm.country.$invalid}">
                                <input type="text" class="form-control" placeholder="Country" name="country" ng-model="address.country" >
                                <span class="help-block" ng-show="userUpdateForm.country.$error.required && userUpdateForm.country.$touched"> cannot be empty</span>
                            </div>
                            <div class="col-xs-12 col-sm-6 col-md-3" ng-class="{'has-error':userUpdateForm.pin.$touched && userUpdateForm.pin.$invalid}">
                                <input type="text" class="form-control" placeholder="000000" name="pin" ng-model="address.zip"  >
                                <span class="help-block" ng-show="userUpdateForm.pin.$error.required && userUpdateForm.pin.$touched">Please Enter Pin</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="box box-success">
                    <div class="box-header with-border">
                        <h3 class="box-title">Other Branches - {{user.wOtherBranchNumber}}</h3>
                    </div>
                    <div class="box-body">
                        <div class="row" ng-repeat="otherAddress in user.wOAddress track by $index">
                            <div class="col-xs-12 col-sm-12 col-md-12" ng-class="{'has-error':userUpdateForm.pin.$touched && userUpdateForm.pin.$invalid}">
                                <input type="text" class="form-control" placeholder="{{otherAddress}}" ng-model="user.wOAddress[$index]"  >
                            </div>
                        </div>
                    </div>
                </div>
                <div class="box box-success">
                    <div class="box-header with-border">
                        <h3 class="box-title">Facilities Available</h3>
                    </div>
                    <div class="box-body">
                        <div class="row" ng-repeat="facility in user.wFacilities track by $index">
                            <div class="col-xs-12 col-sm-12 col-md-12" >
                                <input type="text" class="form-control" readonly placeholder="{{facility}}" ng-model="user.wFacilities[$index]"  >
                            </div>
                        </div>
                    </div>
                </div>
                <div class="box box-success">
                    <div class="box-header with-border">
                        <h3 class="box-title">Services Provided</h3>
                    </div>
                    <div class="box-body">
                        <div class="row" ng-repeat="services in user.wServicesProvided track by $index">
                            <div class="col-xs-12 col-sm-12 col-md-12" >
                                <input type="text" class="form-control"readonly  placeholder="{{services}}" ng-model="user.wServicesProvided[$index]"  >
                            </div>
                        </div>
                    </div>
                </div>
                <div class="box box-success">
                    <div class="box-header with-border">
                        <h3 class="box-title">Brands Accepted</h3>
                    </div>
                    <div class="box-body">
                        <div class="row" ng-repeat="vehicles in user.wVehicleBrandsRepaired track by $index">
                            <div class="col-xs-12 col-sm-12 col-md-12" >
                                <input type="text" class="form-control" readonly placeholder="{{vehicles}}" ng-model="user.wVehicleBrandsRepaired[$index]"  >
                            </div>
                        </div>
                    </div>
                </div>
                <div class="box box-success">
                    <div class="box-header with-border">
                        <h3 class="box-title">Vehicle types repaired</h3>
                    </div>
                    <div class="box-body">
                        <div class="row" ng-repeat="vehicles in user.wVehicleTypesRepaired track by $index">
                            <div class="col-xs-12 col-sm-12 col-md-12" >
                                <input type="text" class="form-control" readonly placeholder="{{vehicles}}" ng-model="user.wVehicleTypesRepaired[$index]"  >
                            </div>
                        </div>
                    </div>
                </div>
                <div class="box box-success">
                    <div class="box-header with-border">
                        <h3 class="box-title">Resources Available</h3>
                    </div>
                    <div class="box-body">
                        <div class="row">
                            <div class="col-xs-12 col-sm-6 col-md-3" >
                                <label for="">Senior Mechanics</label>
                                <input type="text" class="form-control"  placeholder="Senior mechanics" ng-model="user.wSMechs"  >
                            </div>
                            <div class="col-xs-12 col-sm-6 col-md-3" >
                                <label for="">Mechanics</label>
                                <input type="text" class="form-control"  placeholder="mechanics" ng-model="user.wMechs"  >
                            </div>
                            <div class="col-xs-12 col-sm-6 col-md-3" >
                                <label for="">Washers</label>
                                <input type="text" class="form-control"  placeholder="Washers" ng-model="user.wWashers"  >
                            </div>
                            <div class="col-xs-12 col-sm-6 col-md-3" >
                                <label for="">Helpers</label>
                                <input type="text" class="form-control"  placeholder="Helpers" ng-model="user.wHelpers"  >
                            </div>
                        </div>
                    </div>
                </div>

                <div class="box-footer">
                        <button type="submit" class="btn btn-default"  ui-sref="workshopListByStatus({status : 'all'})">Back</button>
                        <button type="submit"  class="btn btn-info pull-right" ng-click="updateWorkshop(userUpdateForm)">Submit</button>
                  </div>
            </form>
        </div>
    </div>
</section>







